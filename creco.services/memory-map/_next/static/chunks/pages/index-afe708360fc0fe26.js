(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{6723:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return B}});var n=r(3574),c=r(4336),o=r(638),i=r(6189),a=r.n(i),u=r(2818),s=r(9953),p=r(6268);function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function d(e,t){return b.apply(this,arguments)}function b(){return(b=(0,c.Z)(a().mark(function e(t,r){return a().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat((0,p.S)(),"/github-api/api/resource/create"),{method:"POST",headers:l({"Content-Type":"application/json"},(0,p.U)()),body:JSON.stringify({model:"memory",resource:t,summary:r})});case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}var h=r(8214),O=r(3672),y=r(7226),g={name:"1ke7uei",styles:"min-height:200px;width:100%;resize:none;outline:none"},v={name:"2qga7i",styles:"text-align:right"};function m(e){var t=e.onSubmit,r=(0,s.useState)(""),n=r[0],o=r[1],i=(0,s.useState)(!1),u=i[0],p=i[1];return(0,y.BX)(x,{children:[(0,y.tZ)(w,{children:"\uD83D\uDCDD 메모리 기록하기"}),(0,y.tZ)("section",{children:(0,y.tZ)("textarea",{css:g,onChange:function(e){return o(e.target.value)},value:n})}),(0,y.tZ)("div",{css:v,children:(0,y.tZ)(O.z,{disabled:u,onClick:(0,c.Z)(a().mark(function e(){return a().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return p(!0),e.next=3,t({content:n},{content:n.split("\n")[0]});case 3:o(""),p(!1);case 5:case"end":return e.stop()}},e)})),children:u?"로딩":"작성"})})]})}var j={name:"acf2e7",styles:"padding:16px 0"},w=function(e){var t=e.children;return(0,y.tZ)("h3",{css:j,children:t})},P={name:"19hd517",styles:"margin:0 auto;width:720px"},x=function(e){var t=e.children;return(0,y.tZ)("div",{css:P,children:t})},Z=r(101),D={name:"a07gmx",styles:"font-size:2rem"},k={name:"2qga7i",styles:"text-align:right"};function S(e){var t=e.content,r=e.created,n=e.onClick;return(0,y.BX)(E,{onClick:n,children:[(0,y.tZ)("div",{css:D,children:t}),(0,y.tZ)("div",{css:k,children:(0,y.tZ)("span",{children:new Date(r).toLocaleString()})})]})}var E=function(e){var t=e.children,r=e.onClick,n=(0,s.useState)(!1),c=n[0],o=n[1];return(0,y.tZ)("div",{onClick:r,onMouseEnter:function(){return o(!0)},onMouseLeave:function(){return o(!1)},css:(0,Z.css)({width:"720px",margin:"32px auto",padding:"16px 24px 12px",cursor:"pointer",borderRadius:"10px",background:"".concat(c?"#c8c8c8":"unset"),boxShadow:"rgb(0 0 0 / 20%) 0px 4px 8px 0px, rgb(0 0 0 / 19%) 0px 6px 20px 0px"},"",""),children:t})},_=r(2344);function C(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}var N=r(3757);function q(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function T(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?q(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):q(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function X(){return z.apply(this,arguments)}function z(){return(z=(0,c.Z)(a().mark(function e(){var t,r,n,c,o=arguments;return a().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=void 0===(r=(o.length>0&&void 0!==o[0]?o[0]:{}).pageNo)?1:r,e.next=3,fetch("".concat((0,p.S)(),"/github-api/api/resource/readList?model=memory&pageNo=").concat(n),{method:"GET",headers:T({},(0,p.U)())});case 3:return c=e.sent,e.next=6,c.json();case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}var L=r(2182);function R(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}var B=function(){var e,t,r,i,p,f,l=(0,u.useRouter)(),b=(0,s.useState)(!1),O=b[0],g=b[1],v=(t=(0,L.P)(),r=(0,o.Z)(t,1)[0],[p=(i=(0,N.a)(["fetchMemoryList",null==r?void 0:r.login],(0,c.Z)(a().mark(function e(){return a().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((null==r?void 0:r.login)!=null){e.next=4;break}e.t0=[],e.next=7;break;case 4:return e.next=6,X();case 6:e.t0=e.sent.data;case 7:return e.abrupt("return",e.t0);case 8:case"end":return e.stop()}},e)})),{initialData:[]})).data,i.refetch]),j=(0,o.Z)(v,2),w=j[0],P=j[1],x=(f=(0,u.useRouter)(),{resetQueryParam:function(e){var t=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?C(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},f.query);delete t[e],f.replace({pathname:f.pathname,query:t})}}).resetQueryParam;return((0,s.useEffect)(function(){if(l.isReady){var e=l.query.code;if(null==e||Array.isArray(e)){g(!1);return}g(!0),localStorage.setItem("authorization",e),x("code")}},[l]),O)?(0,y.tZ)("div",{children:"로그인 중"}):(0,y.BX)("div",{children:[(0,y.tZ)(_.t,{}),(0,y.tZ)(m,{onSubmit:(e=(0,c.Z)(a().mark(function e(t,r){return a().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d(t,r);case 2:return e.next=4,P();case 4:case"end":return e.stop()}},e)})),function(t,r){return e.apply(this,arguments)})}),(0,y.tZ)("br",{}),(0,y.tZ)(h.W,{children:w.map(function(e){return(0,y.tZ)(S,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?R(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):R(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},e),e.id)})})]})}},522:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return r(6723)}])}},function(e){e.O(0,[322,917,774,888,179],function(){return e(e.s=522)}),_N_E=e.O()}]);