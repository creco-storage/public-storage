(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[922],{7812:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return S}});var n=r(4336),c=r(6189),i=r.n(c),o=r(8414),s=r(2818),a=r(3574),u=r(6268);function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach(function(t){(0,a.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function f(e){return l.apply(this,arguments)}function l(){return(l=(0,n.Z)(i().mark(function e(t){return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat((0,u.S)(),"/github-api/api/resource/delete"),{method:"POST",headers:d({"Content-Type":"application/json"},(0,u.U)()),body:JSON.stringify({model:"memory",id:t})});case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}var h=r(8214),y=r(638),b=r(9953),m=r(457),O=r(3672),w=r(7226),g={name:"158icaa",styles:"margin-left:4px"},v={name:"2qga7i",styles:"text-align:right"},j={name:"5v4xsq",styles:"min-height:200px;width:100%;resize:none;outline:none;border:none;padding:1rem"},x={name:"2qga7i",styles:"text-align:right"},Z={name:"vetbs0",styles:"display:grid"},P={name:"1msycd6",styles:"display:flex;width:100%;min-height:200px;justify-content:center;align-items:center"};function k(e){var t=e.id,r=e.removeMemory,c=(0,s.useRouter)(),o=(0,b.useState)(!1),a=o[0],u=o[1],p=(0,m.n)({id:t}),d=(0,y.Z)(p,3),f=d[0];return d[2]?(0,w.tZ)(h.W,{children:(0,w.tZ)("div",{css:P,children:"로딩 중"})}):null==f?(0,w.tZ)(h.W,{children:(0,w.tZ)("div",{children:"잘못된 id 입니다."})}):(0,w.BX)(h.W,{children:[(0,w.tZ)("section",{css:Z,children:(0,w.tZ)("span",{css:x,children:new Date(f.created).toLocaleString()})}),(0,w.tZ)("section",{children:(0,w.tZ)("textarea",{css:j,disabled:!0,value:f.content})}),(0,w.BX)("section",{css:v,children:[(0,w.tZ)(O.z,{onClick:(0,n.Z)(i().mark(function e(){return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("제거 버튼 클릭"),u(!0),e.next=4,r();case 4:u(!1),c.back();case 6:case"end":return e.stop()}},e)})),disabled:a,children:a?"제거 중":"제거"}),(0,w.tZ)(O.z,{css:g,onClick:(0,n.Z)(i().mark(function e(){return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:c.push("/memo/".concat(t,"/edit"));case 1:case"end":return e.stop()}},e)})),children:"수정"})]})]})}var D=r(1436),_=r(2344),E={name:"19hd517",styles:"margin:0 auto;width:720px"},S=function(){var e=(0,s.useRouter)(),t=(0,o.NL)(),r=e.query.id;return(0,w.BX)("div",{children:[(0,w.tZ)(_.t,{}),(0,w.tZ)(D.D,{css:E,children:"\uD83D\uDCDD 메모리 확인하기"}),(0,w.tZ)(h.W,{children:(0,w.tZ)(k,{id:r,removeMemory:(0,n.Z)(i().mark(function e(){return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null==r||Array.isArray(r))){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,t.invalidateQueries(["fetchMemoryList"]);case 4:return e.next=6,f(r);case 6:case"end":return e.stop()}},e)}))})})]})}},457:function(e,t,r){"use strict";r.d(t,{n:function(){return l}});var n=r(4336),c=r(6189),i=r.n(c),o=r(3757),s=r(3574),a=r(6268);function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach(function(t){(0,s.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function d(e){return f.apply(this,arguments)}function f(){return(f=(0,n.Z)(i().mark(function e(t){var r,n;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.id,e.next=3,fetch("".concat((0,a.S)(),"/github-api/api/resource/read?model=memory&id=").concat(r),{method:"GET",headers:p({},(0,a.U)())});case 3:return n=e.sent,e.next=6,n.json();case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}function l(e){var t,r=e.id,c=(0,o.a)(["fetchMemory","".concat(r)],(0,n.Z)(i().mark(function e(){return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==r){e.next=2;break}return e.abrupt("return",null);case 2:return e.next=4,d({id:r});case 4:return e.abrupt("return",e.sent.data);case 5:case"end":return e.stop()}},e)}))),s=c.data;return[s,c.refetch,c.isLoading]}},8882:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/memo/[id]",function(){return r(7812)}])}},function(e){e.O(0,[322,306,774,888,179],function(){return e(e.s=8882)}),_N_E=e.O()}]);