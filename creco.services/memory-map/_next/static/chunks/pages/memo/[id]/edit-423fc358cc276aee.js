(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[178],{1804:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return _}});var r=n(4336),c=n(6189),i=n.n(c),o=n(2818),a=n(3574),s=n(6268);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach(function(t){(0,a.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function d(e,t,n){return f.apply(this,arguments)}function f(){return(f=(0,r.Z)(i().mark(function e(t,n,r){return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat((0,s.S)(),"/github-api/api/resource/update"),{method:"POST",headers:p({"Content-Type":"application/json"},(0,s.U)()),body:JSON.stringify({id:t,model:"memory",resource:n,summary:r})});case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}var l=n(8214),h=n(638),y=n(9953),b=n(457),m=n(3672),O=n(7226),g={name:"2qga7i",styles:"text-align:right"},w={name:"1qga2zd",styles:"min-height:200px;width:100%;resize:none;outline:none;padding:1rem"},v={name:"2qga7i",styles:"text-align:right"},j={name:"vetbs0",styles:"display:grid"},Z={name:"1msycd6",styles:"display:flex;width:100%;min-height:200px;justify-content:center;align-items:center"};function x(e){var t=e.id,n=e.editMemory,c=(0,o.useRouter)(),a=(0,y.useState)(""),s=a[0],u=a[1],p=(0,y.useState)(!1),d=p[0],f=p[1],x=(0,b.n)({id:t}),P=(0,h.Z)(x,3),k=P[0],D=P[2];return((0,y.useEffect)(function(){null!=k&&null!=k.content&&u(k.content)},[k]),D)?(0,O.tZ)(l.W,{children:(0,O.tZ)("div",{css:Z,children:"로딩 중"})}):null==k?(0,O.tZ)(l.W,{children:(0,O.tZ)("div",{children:"잘못된 id 입니다."})}):(0,O.BX)(l.W,{children:[(0,O.tZ)("section",{css:j,children:(0,O.tZ)("span",{css:v,children:new Date(k.created).toLocaleString()})}),(0,O.tZ)("section",{children:(0,O.tZ)("textarea",{css:w,value:s,onChange:function(e){return u(e.target.value)}})}),(0,O.tZ)("section",{css:g,children:(0,O.tZ)(m.z,{onClick:(0,r.Z)(i().mark(function e(){return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("제거 버튼 클릭"),f(!0),e.next=4,n({content:s});case 4:f(!1),c.back();case 6:case"end":return e.stop()}},e)})),disabled:d,children:d?"제출 중":"제출"})})]})}var P=n(1436),k=n(2344),D={name:"19hd517",styles:"margin:0 auto;width:720px"},_=function(){var e,t=(0,o.useRouter)(),n=t.query.id;return(0,O.BX)("div",{children:[(0,O.tZ)(k.t,{}),(0,O.tZ)(P.D,{css:D,children:"\uD83D\uDCDD 메모리 수정하기"}),(0,O.tZ)(l.W,{children:(0,O.tZ)(x,{id:n,editMemory:(e=(0,r.Z)(i().mark(function e(r){var c;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(c=r.content,!(null==n||Array.isArray(n))){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,d(n,{content:c},{content:c.split("\n")[0]});case 5:t.back();case 6:case"end":return e.stop()}},e)})),function(t){return e.apply(this,arguments)})})})]})}},457:function(e,t,n){"use strict";n.d(t,{n:function(){return l}});var r=n(4336),c=n(6189),i=n.n(c),o=n(3757),a=n(3574),s=n(6268);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach(function(t){(0,a.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function d(e){return f.apply(this,arguments)}function f(){return(f=(0,r.Z)(i().mark(function e(t){var n,r;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,e.next=3,fetch("".concat((0,s.S)(),"/github-api/api/resource/read?model=memory&id=").concat(n),{method:"GET",headers:p({},(0,s.U)())});case 3:return r=e.sent,e.next=6,r.json();case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}function l(e){var t,n=e.id,c=(0,o.a)(["fetchMemory","".concat(n)],(0,r.Z)(i().mark(function e(){return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==n){e.next=2;break}return e.abrupt("return",null);case 2:return e.next=4,d({id:n});case 4:return e.abrupt("return",e.sent.data);case 5:case"end":return e.stop()}},e)}))),a=c.data;return[a,c.refetch,c.isLoading]}},888:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/memo/[id]/edit",function(){return n(1804)}])}},function(e){e.O(0,[322,306,774,888,179],function(){return e(e.s=888)}),_N_E=e.O()}]);