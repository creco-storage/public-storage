(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[178],{1558:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return _}});var r=t(4336),i=t(6189),c=t.n(i),a=t(7840),s=t(2818),u=t(8214),o=t(638),d=t(9953),l=t(6876),f=t(3672),h=t(7150),p={name:"2qga7i",styles:"text-align:right"},m={name:"1qga2zd",styles:"min-height:200px;width:100%;resize:none;outline:none;padding:1rem"},y={name:"2qga7i",styles:"text-align:right"},g={name:"vetbs0",styles:"display:grid"},Z={name:"1msycd6",styles:"display:flex;width:100%;min-height:200px;justify-content:center;align-items:center"};function v(e){var n=e.id,t=e.editMemory,i=(0,s.useRouter)(),a=(0,d.useState)(""),v=a[0],w=a[1],x=(0,d.useState)(!1),k=x[0],_=x[1],b=(0,l.n)({id:n}),D=(0,o.Z)(b,3),E=D[0],C=D[2];return((0,d.useEffect)(function(){null!=E&&null!=E.content&&w(E.content)},[E]),C)?(0,h.tZ)(u.W,{children:(0,h.tZ)("div",{css:Z,children:"로딩 중"})}):null==E?(0,h.tZ)(u.W,{children:(0,h.tZ)("div",{children:"잘못된 id 입니다."})}):(0,h.BX)(u.W,{children:[(0,h.tZ)("section",{css:g,children:(0,h.tZ)("span",{css:y,children:new Date(E.created).toLocaleString()})}),(0,h.tZ)("section",{children:(0,h.tZ)("textarea",{css:m,value:v,onChange:function(e){return w(e.target.value)}})}),(0,h.tZ)("section",{css:p,children:(0,h.tZ)(f.z,{onClick:(0,r.Z)(c().mark(function e(){return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("제거 버튼 클릭"),_(!0),e.next=4,t({content:v});case 4:_(!1),i.back();case 6:case"end":return e.stop()}},e)})),disabled:k,children:k?"제출 중":"제출"})})]})}var w=t(1436),x=t(2344),k={name:"19hd517",styles:"margin:0 auto;width:720px"},_=function(){var e,n=(0,s.useRouter)(),t=n.query.id;return(0,h.BX)("div",{children:[(0,h.tZ)(x.t,{}),(0,h.tZ)(w.D,{css:k,children:"\uD83D\uDCDD 메모리 수정하기"}),(0,h.tZ)(u.W,{children:(0,h.tZ)(v,{id:t,editMemory:(e=(0,r.Z)(c().mark(function e(r){var i;return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=r.content,!(null==t||Array.isArray(t))){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,a.ResourceAPI.of("memory").update({id:t,resource:{content:i},summary:{content:i.split("\n")[0]}});case 5:n.back();case 6:case"end":return e.stop()}},e)})),function(n){return e.apply(this,arguments)})})})]})}},6876:function(e,n,t){"use strict";t.d(n,{n:function(){return u}});var r=t(4336),i=t(6189),c=t.n(i),a=t(7840),s=t(3542);function u(e){var n,t=e.id,i=(0,s.a)(["fetchMemory","".concat(t)],(0,r.Z)(c().mark(function e(){return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==t){e.next=2;break}return e.abrupt("return",null);case 2:return e.next=4,a.ResourceAPI.of("memory").read({id:t});case 4:return e.abrupt("return",e.sent.data);case 5:case"end":return e.stop()}},e)}))),u=i.data;return[u,i.refetch,i.isLoading]}},888:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/memo/[id]/edit",function(){return t(1558)}])}},function(e){e.O(0,[435,306,774,888,179],function(){return e(e.s=888)}),_N_E=e.O()}]);