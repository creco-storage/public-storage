(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{7967:function(e,t,r){Promise.resolve().then(r.bind(r,7731))},7731:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return K}});var n,c=r(2745),i=r(5152),o=r(8801),a=r(4477),s=r(4183);function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}var l=function(e){var t=e.className,r=e.children,n=e.width,c=e.style;return(0,s.jsx)("div",{className:t,style:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach(function(t){(0,a.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({margin:"0 auto",width:"".concat(void 0===n?720:n,"px")},null!=c?c:{}),children:r})};function p(e){var t=e.size;return(0,s.jsx)("div",{style:{width:"100%",height:"".concat(t,"px")}})}function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach(function(t){(0,a.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var y={Horizontal:function(e){var t=e.children,r=e.className,n=e.align,c=e.style;return(0,s.jsx)("div",{className:r,style:d({display:"flex",justifyContent:"".concat(void 0===n?"center":n),alignItems:"center"},null!=c?c:{}),children:t})},Vertical:function(e){var t=e.children,r=e.className,n=e.align,c=void 0===n?"center":n,i=e.style;return(0,s.jsx)("div",{className:r,style:d({display:"flex",flexDirection:"column",alignItems:"".concat("right"===c?"end":"left"===c?"start":"center")},null!=i?i:{}),children:t})}},b=r(8719),x=r(5909),h=r.n(x),g=r(6970),j=r(7946),v={of:function(e){var t;return{readList:(t=(0,b.Z)(h().mark(function t(){var r;return h().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(null==e||""===e||"undefined"===e)){t.next=2;break}return t.abrupt("return",[]);case 2:return t.next=4,m("/api/gist/".concat(e,"/list"));case 4:return r=t.sent.data,t.abrupt("return",r.items);case 7:case"end":return t.stop()}},t)})),function(){return t.apply(this,arguments)}),readItem:function(t){return m("/api/gist/".concat(e,"/").concat(t))},createItem:function(t){return P("/api/gist/".concat(e,"/create"),{contents:t})},updateItem:function(t,r){return P("/api/gist/".concat(e,"/").concat(t,"/modify"),{contents:r})},updateItems:function(t){return P("/api/gist/".concat(e,"/list/modify"),{items:t})},deleteItem:function(t){return P("/api/gist/".concat(e,"/").concat(t,"/delete"))}}},getList:(n=(0,b.Z)(h().mark(function e(){var t;return h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m("/api/gist/category");case 2:return t=e.sent.data,e.abrupt("return",t);case 5:case"end":return e.stop()}},e)})),function(){return n.apply(this,arguments)})},O="https://app.divops.kr/github-api";function m(e){return w.apply(this,arguments)}function w(){return(w=(0,b.Z)(h().mark(function e(t){var r;return h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.Z.get("".concat(O).concat(t));case 2:return r=e.sent.data,e.abrupt("return",r);case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function P(e,t){return k.apply(this,arguments)}function k(){return(k=(0,b.Z)(h().mark(function e(t,r){var n;return h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.Z.post("".concat(O).concat(t),r,{headers:{"Content-Type":"application/json"}});case 2:return n=e.sent.data,e.abrupt("return",n);case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function S(e){var t,r=[(t=(0,g.a)(["fetchList",e],(0,b.Z)(h().mark(function t(){var r;return h().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v.of(e).readList();case 2:return r=t.sent,t.abrupt("return",r);case 4:case"end":return t.stop()}},t)})),{initialData:[]})).data,t.refetch,t.isLoading,t.isFetching],n=(0,c.Z)(r,4),i=n[0],a=n[1],s=n[2],u=n[3],l=(0,o.useState)([]),p=l[0],f=l[1];return(0,o.useEffect)(function(){var t,r,n;f(JSON.parse(null!==(t=null===(r=window)||void 0===r?void 0:null===(n=r.localStorage)||void 0===n?void 0:n.getItem("useFlashList-".concat(e)))&&void 0!==t?t:"[]"))},[]),(0,o.useEffect)(function(){var t,r;null==e||""===e||Array.isArray(e)||null==i||(null===(t=window)||void 0===t||null===(r=t.localStorage)||void 0===r||r.setItem("useFlashList-".concat(e),JSON.stringify(i)),f(i))},[i]),[p,a,s,u]}function D(){var e=(0,g.a)(["useCategoryList"],v.getList,{initialData:[]});return[e.data,e.refetch,e.isLoading,e.isFetching]}function Z(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function I(e){var t=e.style,r=e.className,n=e.children;return(0,s.jsx)("p",{className:r,style:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(r),!0).forEach(function(t){(0,a.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Z(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({width:"100%",fontSize:"1.6rem",wordBreak:"keep-all",whiteSpace:"pre-line"},null!=t?t:{}),dangerouslySetInnerHTML:{__html:"".concat(n)}})}function N(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function E(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?N(Object(r),!0).forEach(function(t){(0,a.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function C(e){var t=e.className,r=e.style,n=e.setValue,c=e.value,i=e.rows,o=e.cols;return(0,s.jsx)("textarea",{className:t,spellCheck:!1,style:E({resize:"none",width:"".concat(null==o?"100%":"auto"),fontSize:"1.6rem",wordBreak:"keep-all",whiteSpace:"pre-line",fontFamily:'"Noto Sans KR", sans-serif'},null!=r?r:{}),value:c,rows:null!=i?i:c.split("\n").length,cols:o,onChange:function(e){return n(e.target.value)}})}function L(e){var t=e.defaultText,r=e.onSubmit,n=(0,o.useState)(null!=t?t:""),c=n[0],i=n[1];return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(C,{value:c,setValue:i,rows:Math.max(2,c.split("\n").length)}),(0,s.jsx)(p,{size:4}),(0,s.jsx)("button",{onClick:(0,b.Z)(h().mark(function e(){return h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i(""),e.next=3,r(c);case 3:case"end":return e.stop()}},e)})),style:{wordBreak:"keep-all"},children:"입력"})]})}function z(e){var t,r=e.category,n=S(r),i=(0,c.Z)(n,2),o=i[0],a=i[1];return(0,s.jsx)(L,{onSubmit:(t=(0,b.Z)(h().mark(function e(t){var n;return h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n={contents:t,priority:o.length},e.next=3,v.of(r).createItem(n);case 3:return e.next=5,a();case 5:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)})})}function B(e){var t=e.value;return(0,s.jsx)(s.Fragment,{children:e.cases[t]})}function T(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function V(e){var t=e.style,r=e.id,n=e.className,c=e.left,i=e.right;return(0,s.jsx)("li",{className:n,style:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?T(Object(r),!0).forEach(function(t){(0,a.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({borderRadius:"6px"},null!=t?t:{}),children:(0,s.jsxs)(y.Horizontal,{children:[c,i]})},r)}function _(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function F(e){var t=e.className,r=e.style,n=e.onClick,c=e.children;return(0,s.jsx)("button",{className:t,style:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_(Object(r),!0).forEach(function(t){(0,a.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({border:"unset",background:"unset",wordBreak:"keep-all",textDecoration:"underline",cursor:"pointer"},null!=r?r:{}),onClick:n,children:c})}function M(e){e.id;var t=e.data,r=e.viewButtons,n=e.editButtons,i=(0,o.useState)(t.contents),a=i[0],u=i[1],l=(0,o.useState)("view"),p=l[0],f=l[1];return(0,s.jsx)(B,{value:p,cases:{view:(0,s.jsx)(V,{style:{padding:"6px",marginBottom:"12px",border:"1px solid #efefef",boxShadow:"rgba(0, 0, 0, 0.2) 0px 1px 2px 0px, rgba(0, 0, 0, 0.19) 0px 2px 5px 0px"},left:(0,s.jsx)(C.View,{style:{alignItems:"flex-start"},value:a}),right:Object.entries(r).map(function(e){var t=(0,c.Z)(e,2),r=t[0],n=t[1];return(0,s.jsx)(F,{style:{paddingTop:"5px",alignItems:"flex-start"},onClick:function(){return n({text:a,setMode:f,setText:u})},children:r},r)})}),edit:null==n?null:(0,s.jsx)(V,{style:{padding:"6px",marginBottom:"12px",border:"1px solid #efefef",boxShadow:"rgba(0, 0, 0, 0.2) 0px 1px 2px 0px, rgba(0, 0, 0, 0.19) 0px 2px 5px 0px"},left:(0,s.jsx)(C,{style:{alignItems:"flex-start",border:"white 1px solid",borderBottom:"1px solid #c8c8c8"},value:a,setValue:u}),right:Object.entries(n).map(function(e){var t=(0,c.Z)(e,2),r=t[0],n=t[1];return(0,s.jsx)(F,{style:{alignItems:"flex-start",paddingTop:"5px"},onClick:function(){return n({text:a,setMode:f,setText:u})},children:r},r)})})}})}function H(e){var t=e.category,r=S(t),n=(0,c.Z)(r,2),i=n[0],o=n[1];return(0,s.jsx)("ul",{children:i.sort(function(e,t){var r,n;return(null!==(r=e.body.priority)&&void 0!==r?r:0)>(null!==(n=t.body.priority)&&void 0!==n?n:0)?-1:1}).map(function(e,r){var n,c,a,u;return(0,s.jsx)(M,{id:e.id,data:e.body,viewButtons:{수정:function(e){return(0,e.setMode)("edit")},삭제:(n=(0,b.Z)(h().mark(function r(){return h().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,v.of(t).deleteItem(e.id);case 2:return r.next=4,new Promise(function(e){return setTimeout(e,1e3)});case 4:return r.next=6,o();case 6:case"end":return r.stop()}},r)})),function(){return n.apply(this,arguments)}),"⬆":(c=(0,b.Z)(h().mark(function e(){var n,c,a,s;return h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r<=0)){e.next=2;break}return e.abrupt("return");case 2:return n=i[r],c=i[r-1],a={contents:n.body.contents,priority:c.body.priority},s={contents:c.body.contents,priority:n.body.priority},e.next=8,v.of(t).updateItems([{id:n.id,body:a},{id:c.id,body:s}]);case 8:return e.next=10,o();case 10:case"end":return e.stop()}},e)})),function(){return c.apply(this,arguments)}),"⬇":(a=(0,b.Z)(h().mark(function e(){var n,c,a,s;return h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r>=i.length-1)){e.next=2;break}return e.abrupt("return");case 2:return n=i[r],c=i[r+1],a={contents:n.body.contents,priority:c.body.priority},s={contents:c.body.contents,priority:n.body.priority},e.next=8,v.of(t).updateItems([{id:n.id,body:a},{id:c.id,body:s}]);case 8:return e.next=10,o();case 10:case"end":return e.stop()}},e)})),function(){return a.apply(this,arguments)})},editButtons:{제출:(u=(0,b.Z)(h().mark(function r(n){var c,i,a;return h().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return c=n.text,i=n.setMode,a={contents:c,priority:e.body.priority},r.next=4,v.of(t).updateItem(e.id,a);case 4:return r.next=6,o();case 6:i("view");case 7:case"end":return r.stop()}},r)})),function(e){return u.apply(this,arguments)}),취소:function(t){var r=t.setText,n=t.setMode;r(e.body.contents),n("view")}}},"".concat(e.id,"-").concat(r))})})}C.View=function(e){var t=e.value,r=e.style;return null==t?null:(0,s.jsx)(I,{style:E({padding:"3px"},null!=r?r:{}),children:t.replace(/(https?:\/\/\S+)/g,'<a href="$1" target="_blank" style="color: blue; text-decoration: underline;">Link</a>')})};var R=r(1970),A=r.n(R);function J(){var e,t=D(),r=(0,c.Z)(t,1)[0],n=(0,i.useSearchParams)().get("category");return(0,s.jsx)("div",{style:{display:"inline-block"},children:(0,s.jsx)("ul",{children:(null!==(e=Object.entries(r))&&void 0!==e?e:[]).map(function(e){return(0,s.jsx)("li",{children:(0,s.jsx)(A(),{href:"?category=".concat(e[1]),children:(0,s.jsx)(I,{style:{fontWeight:e[1]===n?"bold":"unset",textDecoration:e[1]===n?"underline":"unset",fontSize:"2rem",width:"100px"},children:e[0]})})},e[1])})})})}var K=function(){var e=D(),t=(0,c.Z)(e,1)[0],r=(0,i.useSearchParams)().get("category"),n=(0,i.useRouter)();return(0,o.useEffect)(function(){(null==r||""===r||"undefined"===r)&&n.push("/?category=".concat(Object.values(t)[0]))},[r,t]),(0,s.jsxs)("main",{children:[(0,s.jsx)(p,{size:60}),(0,s.jsxs)(y.Horizontal,{style:{gap:"100px",alignItems:"flex-start"},children:[(0,s.jsx)(y.Vertical,{style:{width:"120px"},children:(0,s.jsx)(J,{})}),(0,s.jsx)(y.Vertical,{children:(0,s.jsxs)(l,{width:720,children:[(0,s.jsx)(y.Vertical,{align:"right",children:(0,s.jsx)(o.Suspense,{children:(0,s.jsx)(z,{category:r})})}),(0,s.jsx)(p,{size:20}),(0,s.jsx)(o.Suspense,{children:(0,s.jsx)(H,{category:r})})]})})]})]})}}},function(e){e.O(0,[898,284,831,807,744],function(){return e(e.s=7967)}),_N_E=e.O()}]);