(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[862],{2401:function(t,e,n){Promise.resolve().then(n.bind(n,8769))},8769:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return k},generateStaticParams:function(){return g}});var r=n(8719),i=n(2745),a=n(5909),o=n.n(a),c=n(2090),u=n(8347),s=n(6583),p=n(4720),d=n(5491),f={name:"2qga7i",styles:"text-align:right"},l={name:"1hcx8jb",styles:"padding:0"};function b(){var t=window.location.pathname.split("/").pop(),e=(0,u.Z)(t),n=(0,i.Z)(e,2),a=n[0],b=n[1];return null==a||0===a.length?null:(0,d.tZ)(s.W,{css:f,children:(0,d.tZ)(p.L,{css:l,onClick:(0,r.Z)(o().mark(function e(){var n,r,i;return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null==a||0===a.length)){e.next=3;break}return alert("잠시 후 다시 시도해주세요."),e.abrupt("return");case 3:n=0;case 4:if(!(n<a.length)){e.next=14;break}if(Number((r=a[n]).priority)!==n){e.next=8;break}return e.abrupt("continue",11);case 8:return i={contents:r.body.contents,priority:n},e.next=11,c.b.of(t).updateItem(r.id,i);case 11:n++,e.next=4;break;case 14:return e.next=16,b();case 16:case"end":return e.stop()}},e)})),children:"재정렬"})})}var y=n(9507),h=n(8070),x=n(7616),m=n(8801),v=n(9471),w={name:"255c6r",styles:"word-break:keep-all"};function Z(t){var e=t.defaultText,n=t.onSubmit,i=(0,m.useState)(null!=e?e:""),a=i[0],c=i[1];return(0,d.BX)(d.HY,{children:[(0,d.tZ)(v.K,{value:a,setValue:c,rows:Math.max(2,a.split("\n").length)}),(0,d.tZ)(h.K,{size:4}),(0,d.tZ)("button",{onClick:(0,r.Z)(o().mark(function t(){return o().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return c(""),t.next=3,n(a);case 3:case"end":return t.stop()}},t)})),css:w,children:"입력"})]})}var k=function(t){var e,n=t.params.category,a=(0,u.Z)(n),p=(0,i.Z)(a,2),f=p[0],l=p[1];return(0,d.BX)("main",{children:[(0,d.tZ)(h.K,{size:30}),(0,d.tZ)(b,{}),(0,d.tZ)(h.K,{size:30}),(0,d.BX)(s.W,{width:720,children:[(0,d.tZ)(x.K.Vertical,{align:"right",children:(0,d.tZ)(Z,{onSubmit:(e=(0,r.Z)(o().mark(function t(e){var r;return o().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r={contents:e,priority:f.length},t.next=3,c.b.of(n).createItem(r);case 3:return t.next=5,l();case 5:case"end":return t.stop()}},t)})),function(t){return e.apply(this,arguments)})})}),(0,d.tZ)(h.K,{size:20}),(0,d.tZ)("ul",{children:f.sort(function(t,e){var n,r;return(null!==(n=t.body.priority)&&void 0!==n?n:0)>(null!==(r=e.body.priority)&&void 0!==r?r:0)?1:-1}).map(function(t,e){var i,a,u,s;return(0,d.tZ)(y.d,{id:t.id,data:t.body,viewButtons:{수정:function(t){return(0,t.setMode)("edit")},삭제:(i=(0,r.Z)(o().mark(function e(){return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.b.of(n).deleteItem(t.id);case 2:return e.next=4,new Promise(function(t){return setTimeout(t,1e3)});case 4:return e.next=6,l();case 6:case"end":return e.stop()}},e)})),function(){return i.apply(this,arguments)}),"⬆":(a=(0,r.Z)(o().mark(function t(){var r,i,a,u;return o().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e<=0)){t.next=2;break}return t.abrupt("return");case 2:return r=f[e],i=f[e-1],a={contents:r.body.contents,priority:i.body.priority},t.next=7,c.b.of(n).updateItem(r.id,a);case 7:return u={contents:i.body.contents,priority:r.body.priority},t.next=10,c.b.of(n).updateItem(i.id,u);case 10:return t.next=12,l();case 12:case"end":return t.stop()}},t)})),function(){return a.apply(this,arguments)}),"⬇":(u=(0,r.Z)(o().mark(function t(){var r,i,a,u;return o().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e>=f.length-1)){t.next=2;break}return t.abrupt("return");case 2:return r=f[e],i=f[e+1],a={contents:r.body.contents,priority:i.body.priority},t.next=7,c.b.of(n).updateItem(r.id,a);case 7:return u={contents:i.body.contents,priority:r.body.priority},t.next=10,c.b.of(n).updateItem(i.id,u);case 10:return t.next=12,l();case 12:case"end":return t.stop()}},t)})),function(){return u.apply(this,arguments)})},editButtons:{제출:(s=(0,r.Z)(o().mark(function e(r){var i,a,u;return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=r.text,a=r.setMode,u={contents:i,priority:t.priority},e.next=4,c.b.of(n).updateItem(t.id,u);case 4:return e.next=6,l();case 6:a("view");case 7:case"end":return e.stop()}},e)})),function(t){return s.apply(this,arguments)}),취소:function(e){var n=e.setText,r=e.setMode;n(t.contents),r("view")}}},"".concat(t.id,"-").concat(e))})})]})]})};function g(){return[{category:"e396a261fcaa122a6544de06f8b74653"}]}}},function(t){t.O(0,[491,922,47,724,831,807,744],function(){return t(t.s=2401)}),_N_E=t.O()}]);