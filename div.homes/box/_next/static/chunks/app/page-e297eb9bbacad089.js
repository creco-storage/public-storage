(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{112:function(e,t,r){Promise.resolve().then(r.bind(r,5189))},6093:function(e,t,r){"use strict";r.d(t,{b:function(){return s}});var n,o=r(1988),i=r(5171),c=r.n(i),a=r(7946),s={of:function(e){var t;return{readList:(t=(0,o.Z)(c().mark(function t(){var r;return c().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(null==e||""===e||"undefined"===e)){t.next=2;break}return t.abrupt("return",[]);case 2:return t.next=4,u("/api/gist/".concat(e,"/list"));case 4:return r=t.sent.data,t.abrupt("return",r.items);case 7:case"end":return t.stop()}},t)})),function(){return t.apply(this,arguments)}),readItem:function(t){return u("/api/gist/".concat(e,"/").concat(t))},createItem:function(t){return p("/api/gist/".concat(e,"/create"),{contents:t})},updateItem:function(t,r){return p("/api/gist/".concat(e,"/").concat(t,"/modify"),{contents:r})},updateItems:function(t){return p("/api/gist/".concat(e,"/list/modify"),{items:t})},deleteItem:function(t){return p("/api/gist/".concat(e,"/").concat(t,"/delete"))}}},getList:(n=(0,o.Z)(c().mark(function e(){var t;return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u("/api/gist/category");case 2:return t=e.sent.data,e.abrupt("return",t);case 5:case"end":return e.stop()}},e)})),function(){return n.apply(this,arguments)})};function u(e){return l.apply(this,arguments)}function l(){return(l=(0,o.Z)(c().mark(function e(t){var r;return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.Z.get("".concat("").concat(t));case 2:return r=e.sent.data,e.abrupt("return",r);case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function p(e,t){return f.apply(this,arguments)}function f(){return(f=(0,o.Z)(c().mark(function e(t,r){var n;return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.Z.post("".concat("").concat(t),r,{headers:{"Content-Type":"application/json"}});case 2:return n=e.sent.data,e.abrupt("return",n);case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}},6001:function(e,t,r){"use strict";r.d(t,{b:function(){return n.b}});var n=r(6093)},4313:function(e,t,r){"use strict";r.d(t,{W:function(){return c}});var n=r(8807),o=r(7881);function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}var c=function(e){var t=e.className,r=e.children,c=e.width,a=e.style;return(0,o.jsx)("div",{className:t,style:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({margin:"0 auto",width:"".concat(void 0===c?720:c,"px")},null!=a?a:{}),children:r})}},5248:function(e,t,r){"use strict";r.d(t,{K:function(){return o}});var n=r(7881);function o(e){var t=e.size;return(0,n.jsx)("div",{style:{width:"100%",height:"".concat(t,"px")}})}},3171:function(e,t,r){"use strict";r.d(t,{K:function(){return a}});var n=r(8807),o=r(7881);function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var a={Horizontal:function(e){var t=e.children,r=e.className,n=e.align,i=e.style;return(0,o.jsx)("div",{className:r,style:c({display:"flex",justifyContent:"".concat(void 0===n?"center":n),alignItems:"center"},null!=i?i:{}),children:t})},Vertical:function(e){var t=e.children,r=e.className,n=e.align,i=void 0===n?"center":n,a=e.style;return(0,o.jsx)("div",{className:r,style:c({display:"flex",flexDirection:"column",alignItems:"".concat("right"===i?"end":"left"===i?"start":"center")},null!=a?a:{}),children:t})}}},6504:function(e,t,r){"use strict";r.d(t,{H:function(){return c}});var n=r(8807),o=r(7881);function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function c(e){var t=e.style,r=e.className,c=e.children,a=e.onClick;return(0,o.jsx)("p",{className:r,style:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({width:"100%",fontSize:"1.6rem",wordBreak:"keep-all",whiteSpace:"pre-line"},null!=t?t:{}),dangerouslySetInnerHTML:{__html:"".concat(c)},onClick:a})}},9714:function(e,t,r){"use strict";r.d(t,{AV:function(){return p},ZT:function(){return l}});var n=r(1988),o=r(4378),i=r(5171),c=r.n(i),a=r(6970),s=r(5322),u=r(6001);function l(e){var t,r=[(t=(0,a.a)(["fetchList",e],(0,n.Z)(c().mark(function t(){var r;return c().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(null!=e){t.next=2;break}return t.abrupt("return",[]);case 2:return t.next=4,u.b.of(e).readList();case 4:return r=t.sent,t.abrupt("return",r);case 6:case"end":return t.stop()}},t)})),{initialData:[]})).data,t.refetch,t.isLoading,t.isFetching],i=(0,o.Z)(r,4),l=i[0],p=i[1],f=i[2],d=i[3],b=(0,s.useState)([]),y=b[0],v=b[1];return((0,s.useEffect)(function(){var t,r,n;null!=e&&v(JSON.parse(null!==(t=null===(r=window)||void 0===r?void 0:null===(n=r.localStorage)||void 0===n?void 0:n.getItem("useFlashList-".concat(e)))&&void 0!==t?t:"[]"))},[]),(0,s.useEffect)(function(){var t,r;null==e||""===e||Array.isArray(e)||null==l||(null===(t=window)||void 0===t||null===(r=t.localStorage)||void 0===r||r.setItem("useFlashList-".concat(e),JSON.stringify(l)),v(l))},[l]),null==e)?[[],function(){},!1,!1]:[y,p,f,d]}function p(){var e,t=[(e=(0,a.a)(["useCategoryList"],u.b.getList,{initialData:{}})).data,e.refetch,e.isLoading,e.isFetching],r=(0,o.Z)(t,4),n=r[0],i=r[1],c=r[2],l=r[3],p=(0,s.useState)({}),f=p[0],d=p[1];return(0,s.useEffect)(function(){var e,t,r;d(JSON.parse(null!==(e=null===(t=window)||void 0===t?void 0:null===(r=t.localStorage)||void 0===r?void 0:r.getItem("useFlashCategoryList"))&&void 0!==e?e:"{}"))},[]),(0,s.useEffect)(function(){var e,t;null!=n&&(null===(e=window)||void 0===e||null===(t=e.localStorage)||void 0===t||t.setItem("useFlashCategoryList",JSON.stringify(n)),d(n))},[n]),[f,i,c,l]}},8337:function(e,t,r){"use strict";r.d(t,{J:function(){return o}});var n=r(5322);function o(e){(0,n.useEffect)(function(){var t=function(t){Object.keys(e).includes("".concat(t.key))&&t.metaKey&&null!=e["".concat(t.key)]&&(e["".concat(t.key)](),t.preventDefault())};return window.addEventListener("keydown",t),function(){window.removeEventListener("keydown",t)}},[])}},5189:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return L}});var n=r(5322),o=r(4313),i=r(5248),c=r(3171),a=r(1988),s=r(4378),u=r(5171),l=r.n(u),p=r(5581),f=r(6001),d=r(8807),b=r(6504),y=r(7881);function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function x(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach(function(t){(0,d.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var g=(0,n.forwardRef)(function(e,t){var r=e.className,n=e.style,o=e.setValue,i=e.value,c=e.rows,a=e.cols;return(0,y.jsx)("textarea",{ref:t,className:r,spellCheck:!1,style:x({resize:"none",width:"".concat(null==a?"100%":"auto"),fontSize:"1.6rem",wordBreak:"keep-all",whiteSpace:"pre-line",fontFamily:'"Noto Sans KR", sans-serif'},null!=n?n:{}),value:i,rows:null!=c?c:i.split("\n").length,cols:a,onChange:function(e){return o(e.target.value)}})});g.displayName="TextArea";var h=Object.assign(g,{View:function(e){var t=e.value,r=e.style,n=e.onClick;return null==t?null:(0,y.jsx)(b.H,{style:x({padding:"3px"},null!=r?r:{}),onClick:n,children:t.replace(/(https?:\/\/\S+)/g,'<a href="$1" target="_blank" style="color: blue; text-decoration: underline;">Link</a>')})}}),O=(0,n.forwardRef)(function(e,t){var r=e.defaultText,o=e.onSubmit,c=(0,n.useState)(null!=r?r:""),s=c[0],u=c[1];return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(h,{ref:t,value:s,setValue:u,rows:Math.max(2,s.split("\n").length)}),(0,y.jsx)(i.K,{size:4}),(0,y.jsx)("button",{onClick:(0,a.Z)(l().mark(function e(){return l().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return u(""),e.next=3,o(s);case 3:case"end":return e.stop()}},e)})),style:{wordBreak:"keep-all"},children:"입력"})]})}),w=r(9714),j=r(8337);function m(){var e,t=(0,p.useRouter)(),r=(0,p.useSearchParams)().get("category"),o=(0,w.ZT)(null!=r?r:"work"),i=(0,s.Z)(o,2),c=i[0],u=i[1],d=(0,n.useRef)(null);return(0,j.J)({k:function(){var e;return null===(e=d.current)||void 0===e?void 0:e.focus()}}),(0,y.jsx)(O,{ref:d,onSubmit:(e=(0,a.Z)(l().mark(function e(n){var o;return l().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o={contents:n,priority:c.length,createdAt:Date.now()},e.prev=1,e.next=4,f.b.of(r).createItem(o);case 4:return e.next=6,u();case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),"Not Allowed"===e.t0.response.data.message&&t.push("/login");case 11:case"end":return e.stop()}},e,null,[[1,8]])})),function(t){return e.apply(this,arguments)})})}function k(e){var t=e.value;return(0,y.jsx)(y.Fragment,{children:e.cases[t]})}function P(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function S(e){var t=e.style,r=e.id,n=e.className,o=e.left,i=e.right,a=e.bottom;return(0,y.jsxs)("li",{className:n,style:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?P(Object(r),!0).forEach(function(t){(0,d.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({borderRadius:"6px"},null!=t?t:{}),children:[(0,y.jsxs)(c.K.Horizontal,{style:{alignItems:"baseline",justifyContent:"space-between"},children:[o,i]}),a]},r)}function D(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Z(e){var t=e.className,r=e.style,n=e.onClick,o=e.children;return(0,y.jsx)("button",{className:t,style:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?D(Object(r),!0).forEach(function(t){(0,d.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({border:"unset",background:"unset",wordBreak:"keep-all",textDecoration:"underline",cursor:"pointer"},null!=r?r:{}),onClick:n,children:o})}function N(e){e.id;var t,r=e.data,o=e.viewButtons,i=e.editButtons,a=(0,n.useState)(r.contents),u=a[0],l=a[1],p=(0,n.useState)("view"),f=p[0],d=p[1];return(0,y.jsx)(k,{value:f,cases:{detail:(0,y.jsx)(S,{style:{backgroundColor:"gainsboro",padding:"6px",marginBottom:"12px",border:"1px solid #efefef",boxShadow:"rgba(0, 0, 0, 0.2) 0px 1px 2px 0px, rgba(0, 0, 0, 0.19) 0px 2px 5px 0px"},left:(0,y.jsx)(h.View,{style:{alignItems:"flex-start"},value:u}),right:Object.entries(o).map(function(e){var t=(0,s.Z)(e,2),r=t[0],n=t[1];return(0,y.jsx)(Z,{style:{paddingTop:"5px",alignItems:"flex-start"},onClick:function(){return n({text:u,setMode:d,setText:l})},children:r},r)}),bottom:(0,y.jsxs)(c.K.Horizontal,{style:{},children:[(0,y.jsx)(h.View,{style:{textAlign:"left",fontSize:"1rem",cursor:"pointer",width:"50px",fontWeight:"bold",textDecoration:"underline"},value:"▲ 접기",onClick:function(){return d("view")}}),(0,y.jsx)(h.View,{style:{textAlign:"right",fontSize:"1rem"},value:new Date(null!==(t=r.updatedAt)&&void 0!==t?t:r.createdAt).toLocaleString()})]})}),view:(0,y.jsx)(S,{style:{padding:"6px",marginBottom:"12px",border:"1px solid #efefef",boxShadow:"rgba(0, 0, 0, 0.2) 0px 1px 2px 0px, rgba(0, 0, 0, 0.19) 0px 2px 5px 0px"},left:(0,y.jsx)(h.View,{style:{alignItems:"flex-start",cursor:"pointer"},value:u.split("\n")[0],onClick:function(){d("detail")}}),right:Object.entries(o).map(function(e){var t=(0,s.Z)(e,2),r=t[0],n=t[1];return(0,y.jsx)(Z,{style:{paddingTop:"5px",alignItems:"flex-start"},onClick:function(){return n({text:u,setMode:d,setText:l})},children:r},r)}),bottom:null}),edit:null==i?null:(0,y.jsx)(S,{style:{padding:"6px",marginBottom:"12px",border:"1px solid #efefef",boxShadow:"rgba(0, 0, 0, 0.2) 0px 1px 2px 0px, rgba(0, 0, 0, 0.19) 0px 2px 5px 0px"},left:(0,y.jsx)(h,{style:{alignItems:"flex-start",border:"white 1px solid",borderBottom:"1px solid #c8c8c8"},value:u,setValue:l}),right:Object.entries(i).map(function(e){var t=(0,s.Z)(e,2),r=t[0],n=t[1];return(0,y.jsx)(Z,{style:{alignItems:"flex-start",paddingTop:"5px"},onClick:function(){return n({text:u,setMode:d,setText:l})},children:r},r)})})}})}function E(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function I(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?E(Object(r),!0).forEach(function(t){(0,d.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function C(){var e=(0,p.useRouter)(),t=(0,p.useSearchParams)().get("category"),r=(0,w.ZT)(null!=t?t:"work"),n=(0,s.Z)(r,2),o=n[0],i=n[1];return(0,y.jsx)("ul",{children:o.sort(function(e,t){var r,n;return(null!==(r=e.body.priority)&&void 0!==r?r:0)>(null!==(n=t.body.priority)&&void 0!==n?n:0)?-1:1}).map(function(r,n){var c,s,u,p;return(0,y.jsx)(N,{id:r.id,data:r.body,viewButtons:{수정:function(e){return(0,e.setMode)("edit")},삭제:(c=(0,a.Z)(l().mark(function n(){return l().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,f.b.of(t).deleteItem(r.id);case 3:return n.next=5,new Promise(function(e){return setTimeout(e,1e3)});case 5:return n.next=7,i();case 7:n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),"Not Allowed"===n.t0.response.data.message&&e.push("/login");case 12:case"end":return n.stop()}},n,null,[[0,9]])})),function(){return c.apply(this,arguments)}),"⬆":(s=(0,a.Z)(l().mark(function r(){var c,a,s,u;return l().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<=0)){r.next=2;break}return r.abrupt("return");case 2:return c=o[n],a=o[n-1],s=I(I({},c.body),{},{priority:a.body.priority}),u=I(I({},a.body),{},{priority:c.body.priority}),r.prev=6,r.next=9,f.b.of(t).updateItems([{id:c.id,body:s},{id:a.id,body:u}]);case 9:return r.next=11,i();case 11:r.next=16;break;case 13:r.prev=13,r.t0=r.catch(6),"Not Allowed"===r.t0.response.data.message&&e.push("/login");case 16:case"end":return r.stop()}},r,null,[[6,13]])})),function(){return s.apply(this,arguments)}),"⬇":(u=(0,a.Z)(l().mark(function r(){var c,a,s,u;return l().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n>=o.length-1)){r.next=2;break}return r.abrupt("return");case 2:return c=o[n],a=o[n+1],s=I(I({},c.body),{},{priority:a.body.priority}),u=I(I({},a.body),{},{priority:c.body.priority}),r.prev=6,r.next=9,f.b.of(t).updateItems([{id:c.id,body:s},{id:a.id,body:u}]);case 9:return r.next=11,i();case 11:r.next=16;break;case 13:r.prev=13,r.t0=r.catch(6),"Not Allowed"===r.t0.response.data.message&&e.push("/login");case 16:case"end":return r.stop()}},r,null,[[6,13]])})),function(){return u.apply(this,arguments)})},editButtons:{제출:(p=(0,a.Z)(l().mark(function n(o){var c,a,s;return l().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return c=o.text,a=o.setMode,n.prev=1,s=I(I({},r.body),{},{contents:c,updatedAt:Date.now()}),n.next=5,f.b.of(t).updateItem(r.id,s);case 5:return n.next=7,i();case 7:a("view"),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(1),"Not Allowed"===n.t0.response.data.message&&e.push("/login");case 13:case"end":return n.stop()}},n,null,[[1,10]])})),function(e){return p.apply(this,arguments)}),취소:function(e){var t=e.setText,n=e.setMode;t(r.body.contents),n("view")}}},"".concat(r.id,"-").concat(n))})})}var L=function(){return(0,y.jsx)("main",{children:(0,y.jsxs)(o.W,{width:720,children:[(0,y.jsx)(c.K.Vertical,{align:"right",children:(0,y.jsx)(n.Suspense,{children:(0,y.jsx)(m,{})})}),(0,y.jsx)(i.K,{size:20}),(0,y.jsx)(n.Suspense,{children:(0,y.jsx)(C,{})})]})})}}},function(e){e.O(0,[389,844,264,927,744],function(){return e(e.s=112)}),_N_E=e.O()}]);